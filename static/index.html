<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>HypeerSpace</title>
  <!-- Favicon-->
  <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>

  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
    type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger el-st" href="#page-top">HypeerSpace</a>
      <button class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded"
        type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
        aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
              href="#servers">Server</a></li>
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
              href="#os">How it Works?</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Masthead-->
  <header class="masthead bg-primary text-white text-center" id="hole">
    <div class="container d-flex align-items-center flex-column">
      <!-- Masthead Heading-->
      <h1 class="masthead-heading text-uppercase mb-0">Internet wormholes</h1>
      <!-- Icon Divider-->

      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>

        <div class="divider-custom-icon">
          <img class="masthead-avatar invert mb-1" src="assets/img/wormhole.svg"> </img>
        </div>
        <div class="divider-custom-line"></div>
      </div>
      <!-- Masthead Subheading-->
      <p class="masthead-subheading font-weight-light mb-0">Open source proxy tunnel <a
          class="btn btn-outline-light btn-social mx-1" href="https://github.com/SamuelHerrera/hypeer.space"><i
            class="fab fa-fw fa-github"></i></a>
      </p>
    </div>
  </header>
  <!-- Portfolio Section-->
  <section class="page-section portfolio" id="servers">
    <div class="container">
      <!-- Portfolio Section Heading-->
      <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Server</h2>
      <!-- Icon Divider-->
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
        <a target="_blank" id="goTo"></a>
        <div class="divider-custom-line"></div>
      </div>
      <!-- Portfolio Grid Items-->
      <div class="row justify-content-center">
        <!-- Portfolio Item 1-->
        <div class="col-md-6 col-lg-4 mb-5">
          <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal1">
            <div class="animation-wrapper">
              <div class="animation-content">
                <aside></aside>
                <aside></aside>
                <div>
                  <span></span><span></span>
                  <ul>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li id="tbtn" onclick="toggleState(event)">ON</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- About Section-->
  <section class="page-section bg-secondary text-white mb-0" id="os">
    <div class="container">
      <!-- About Section Heading-->
      <h2 class="page-section-heading text-center text-uppercase text-white">How it works?</h2>
      <!-- Icon Divider-->
      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>
        <img class="masthead-avatar invert mb-1" src="assets/img/wormhole.svg"> </img>
        <div class="divider-custom-line"></div>
      </div>
      <!-- About Section Content-->
      <div class="row">
        <div class="col-lg-4 ml-auto">
          <p class="lead">Click on server icon to configure, then push ON button to entangle the server. Navigate to
            subdomain to forward request to the local browser tab (or CLI) as it was configured.</p>
        </div>
        <div class="col-lg-4 mr-auto">
          <p class="lead">Browser tab can only perform request to REST server, file servers are not supported. To get
            full fledge tcp/udp connections download and use CLI version.</p>
        </div>
      </div>
      <!-- About Section Button-->
      <div class="text-center mt-4">
        <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/theme/freelancer/">
          <i class="fas fa-download mr-2"></i>
          Windows
        </a>
        <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/theme/freelancer/">
          <i class="fas fa-download mr-2"></i>
          Linux
        </a>
        <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/theme/freelancer/">
          <i class="fas fa-download mr-2"></i>
          OSX (Mac)
        </a>
      </div>
      <div class="text-center mt-4">
      </div>

    </div>
  </section>
  <!-- Footer-->
  <footer class="footer text-center">
    <div class="container">
      <div class="row">
        <!-- Footer Social Icons-->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Around the Web</h4>
          <a class="btn btn-outline-light btn-social mx-1" href="https://github.com/SamuelHerrera"><i
              class="fab fa-fw fa-github"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="https://gitlab.com/samuelherrerafuente"><i
              class="fab fa-fw fa-gitlab"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="mailto:contract@hypeer.space"><i
              class="fab fa fa-envelope"></i></a>
        </div>
        <!-- Footer About Text-->
        <div class="col-lg-4">
          <h4 class="text-uppercase mb-4">Samuel Herrera</h4>
          <p class="lead mb-0">
            I'm a developer amazed by the posibility of creation on it's own, code is my language and this is my space
            :).
          </p>
        </div>
      </div>
    </div>
  </footer>
  <!-- Copyright Section-->
  <div class="copyright py-4 text-center text-white">
    <div class="container">
      <small>
        Copyright &copy; HypeerSpace
        <script>
          document.write(new Date().getFullYear());
        </script>
      </small>
    </div>
  </div>
  <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
  <div class="scroll-to-top d-lg-none position-fixed">
    <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i
        class="fa fa-chevron-up"></i></a>
  </div>
  <!-- Modal 1-->
  <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog"
    aria-labelledby="portfolioModal1Label" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="fas fa-times"></i></span>
        </button>
        <div class="modal-body text-center">
          <div class="container">
            <div class="row justify-content-center">
              <div class="col-lg-8">
                <!-- Portfolio Modal - Title-->
                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal1Label">Server
                  settings</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                  <div class="divider-custom-line"></div>
                  <div class="divider-custom-line"></div>
                </div>
                <!-- Portfolio Modal - Text-->
                <form id="contactForm" name="sentMessage" novalidate="novalidate" action="#">
                  <div class="control-group">
                    <div class="form-group floating-label-form-group controls mb-0 pb-2">
                      <label>Subdomain</label>
                      <input class="form-control" id="subdomain" type="text" placeholder="Subdomain" required="required"
                        data-validation-required-message="Please enter your subdomain." />
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <div class="control-group">
                    <div class="form-group floating-label-form-group controls mb-0 pb-2">
                      <label>local IP</label>
                      <input class="form-control" id="targetIP" type="text" placeholder="Target host"
                        required="required"
                        data-validation-required-message="Please enter your target host like: 127.0.0.1" />
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <div class="control-group">
                    <div class="form-group floating-label-form-group controls mb-0 pb-2">
                      <label>local port</label>
                      <input class="form-control" id="targetPort" type="text" placeholder="Target host"
                        required="required"
                        data-validation-required-message="Please enter your target host port like: 8080" />
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <br />
                  <div id="success"></div>
                  <div class="form-group"><button class="btn btn-primary btn-xl" id="sendMessageButton" type="submit"
                      data-dismiss="modal" aria-label="Close" onclick="return saveSettings()">Save</button></div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Bootstrap core JS-->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Third party plugin JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/84/three.js"></script>
  <script src="https://cdn.rawgit.com/mrdoob/three.js/r84/examples/js/controls/OrbitControls.js"></script>
  <!-- Contact form JS-->
  <script src="assets/axios.min.js"></script>
  <script src="assets/simplepeer.min.js"></script>
  <!-- Core theme JS-->
  <script src="js/hole.js"></script>
  <script src="js/title.js"></script>
  <script src="js/scripts.js"></script>
  <script src="/?hypeer=hypclient-browser.js"></script>
  <script>
    function saveSettings() {
      const subdomain = document.getElementById('subdomain').value;
      const targetIP = document.getElementById('targetIP').value;
      const targetPort = document.getElementById('targetPort').value;
      localStorage['subdomain'] = subdomain;
      localStorage['target'] = `http://${targetIP}${window.location.hostname == 'localhost' ? ':' : '.ssip.hypeer.space:'}${targetPort}`;
      localStorage['targetIP'] = targetIP;
      localStorage['targetPort'] = targetPort;
      restart();
      return false;
    }

    function restart() {
      const lastState = localStorage['lastState'];
      if (lastState == "true") {
        HypClient.stopSignaling(localStorage['subdomain']);
        HypClient.initSignaling(localStorage['subdomain'], localStorage['target']);
      }
    }

    function toggleState(evt) {
      evt.stopPropagation();
      localStorage['lastState'] = (localStorage['lastState'] == "true") ? "false" : "true";
      console.log(localStorage['lastState']);
      if (localStorage['lastState'] == "true") {
        if (localStorage['subdomain'] && localStorage['target']) {
          HypClient.initSignaling(localStorage['subdomain'], localStorage['target']);

          const gt = document.getElementById('goTo');
          const st = `http://${localStorage['subdomain']}${window.location.hostname == 'localhost' ? '.localhost:3000' : '.hypeer.space'}`;
          gt.innerHTML = `${st}`;
          gt.setAttribute('href', st);

        } else {
          alert('Setup subdomain and target in settings first.');
        }
      } else {
        HypClient.stopSignaling(localStorage['subdomain']);
      }
      updateUi();
      return false;
    }

    function updateUi() {
      const lastState = localStorage['lastState'];
      const btn = document.getElementById('tbtn');
      const animCont = document.getElementsByClassName('animation-content')[0];
      if (lastState == "true") {
        btn.innerHTML = "OFF";
        animCont.classList.remove("inactive");
      } else {
        btn.innerHTML = "ON";
        animCont.classList.remove("inactive");
        animCont.classList.add("inactive");
      }
      document.getElementById('subdomain').value = localStorage['subdomain'] || 'a-nice-subdomain';
      document.getElementById('targetIP').value = localStorage['targetIP'] || '192.168.10.1';
      document.getElementById('targetPort').value = localStorage['targetPort'] || '8888';
    }

    if (localStorage['lastState'] == "true" && localStorage['subdomain'] && localStorage['target']) {
      HypClient.initSignaling(localStorage['subdomain'], localStorage['target']);
    }
    updateUi();
  </script>
</body>

</html>